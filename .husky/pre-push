#!/bin/sh
. "$(dirname "$0")/_/husky.sh"
. "$(dirname "$0")/common.sh"

echo 'ğŸš€ğŸš€ Testing your project before pushing ğŸš€ğŸš€'

# Check ESLint Standards
yarn lint ||
(
        echo 'ğŸ˜¤ğŸ˜¤ ESLint Check Failed ğŸ˜¤ğŸ˜¤ Make the required changes listed above, add changes and try to commit again.'
        false;
)

yarn build ||
(
    echo 'ğŸ”¨ğŸ‘· Better call Bob... Because your build failed ğŸ‘·ğŸ”¨ View the errors above to see why.
    '
    false;
)

# If build is successful, we can push to the remote branch
echo 'âœ…âœ… You win this time... I am pushing this now. âœ…âœ…'